<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Types and helpers for the Willow General Purpose Sync protocol."><title>iroh_willow::proto::wgps - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-dbdb5eec.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="iroh_willow" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0-nightly (d10a6823f 2024-11-29)" data-channel="nightly" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../../../static.files/storage-59e33391.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../iroh_willow/index.html">iroh_<wbr>willow</a><span class="version">0.28.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module wgps</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#constants" title="Constants">Constants</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In iroh_<wbr>willow::<wbr>proto</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../../index.html">iroh_willow</a>::<wbr><a href="../index.html">proto</a></span><h1>Module <span>wgps</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/iroh_willow/proto/wgps.rs.html#1-22">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Types and helpers for the Willow General Purpose Sync protocol.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">ยง</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AccessChallenge.html" title="struct iroh_willow::proto::wgps::AccessChallenge">Access<wbr>Challenge</a></div></li><li><div class="item-name"><a class="struct" href="struct.AreaOfInterestHandle.html" title="struct iroh_willow::proto::wgps::AreaOfInterestHandle">Area<wbr>OfInterest<wbr>Handle</a></div></li><li><div class="item-name"><a class="struct" href="struct.CapabilityHandle.html" title="struct iroh_willow::proto::wgps::CapabilityHandle">Capability<wbr>Handle</a></div></li><li><div class="item-name"><a class="struct" href="struct.ChallengeHash.html" title="struct iroh_willow::proto::wgps::ChallengeHash">Challenge<wbr>Hash</a></div></li><li><div class="item-name"><a class="struct" href="struct.CommitmentReveal.html" title="struct iroh_willow::proto::wgps::CommitmentReveal">Commitment<wbr>Reveal</a></div><div class="desc docblock-short">Complete the commitment scheme to determine the challenge for read authentication.</div></li><li><div class="item-name"><a class="struct" href="struct.ControlAbsolve.html" title="struct iroh_willow::proto::wgps::ControlAbsolve">Control<wbr>Absolve</a></div><div class="desc docblock-short">Allow the other peer to reduce its total buffer capacity by amount.</div></li><li><div class="item-name"><a class="struct" href="struct.ControlAnnounceDropping.html" title="struct iroh_willow::proto::wgps::ControlAnnounceDropping">Control<wbr>Announce<wbr>Dropping</a></div><div class="desc docblock-short">The server notifies the client that it has started dropping messages and will continue
to do so until it receives an Apologise message. The server must send any outstanding
guarantees of the logical channel before sending a AnnounceDropping message.</div></li><li><div class="item-name"><a class="struct" href="struct.ControlApologise.html" title="struct iroh_willow::proto::wgps::ControlApologise">Control<wbr>Apologise</a></div><div class="desc docblock-short">The client notifies the server that it can stop dropping messages on this logical channel.</div></li><li><div class="item-name"><a class="struct" href="struct.ControlFreeHandle.html" title="struct iroh_willow::proto::wgps::ControlFreeHandle">Control<wbr>Free<wbr>Handle</a></div><div class="desc docblock-short">Ask the other peer to free a resource handle.</div></li><li><div class="item-name"><a class="struct" href="struct.ControlIssueGuarantee.html" title="struct iroh_willow::proto::wgps::ControlIssueGuarantee">Control<wbr>Issue<wbr>Guarantee</a></div><div class="desc docblock-short">Make a binding promise of available buffer capacity to the other peer</div></li><li><div class="item-name"><a class="struct" href="struct.ControlPlead.html" title="struct iroh_willow::proto::wgps::ControlPlead">Control<wbr>Plead</a></div><div class="desc docblock-short">Ask the other peer to send an ControlAbsolve message
such that the receiver remaining guarantees will be target.</div></li><li><div class="item-name"><a class="struct" href="struct.DataSendEntry.html" title="struct iroh_willow::proto::wgps::DataSendEntry">Data<wbr>Send<wbr>Entry</a></div><div class="desc docblock-short">Transmit an AuthorisedEntry to the other peer, and optionally prepare transmission of its Payload.</div></li><li><div class="item-name"><a class="struct" href="struct.DataSendPayload.html" title="struct iroh_willow::proto::wgps::DataSendPayload">Data<wbr>Send<wbr>Payload</a></div><div class="desc docblock-short">Transmit some transformed Payload bytes.</div></li><li><div class="item-name"><a class="struct" href="struct.DataSetMetadata.html" title="struct iroh_willow::proto::wgps::DataSetMetadata">Data<wbr>SetMetadata</a></div><div class="desc docblock-short">Express preferences for Payload transfer in the intersection of two AreaOfInterests.</div></li><li><div class="item-name"><a class="struct" href="struct.Fingerprint.html" title="struct iroh_willow::proto::wgps::Fingerprint">Fingerprint</a></div></li><li><div class="item-name"><a class="struct" href="struct.IntersectionHandle.html" title="struct iroh_willow::proto::wgps::IntersectionHandle">Intersection<wbr>Handle</a></div></li><li><div class="item-name"><a class="struct" href="struct.InvalidChannelId.html" title="struct iroh_willow::proto::wgps::InvalidChannelId">Invalid<wbr>Channel<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.LengthyEntry.html" title="struct iroh_willow::proto::wgps::LengthyEntry">Lengthy<wbr>Entry</a></div><div class="desc docblock-short">An Entry together with information about how much of its Payload a peer holds.</div></li><li><div class="item-name"><a class="struct" href="struct.LogicalChannelIter.html" title="struct iroh_willow::proto::wgps::LogicalChannelIter">Logical<wbr>Channel<wbr>Iter</a></div><div class="desc docblock-short">An iterator over the variants of <a href="enum.LogicalChannel.html" title="enum iroh_willow::proto::wgps::LogicalChannel">LogicalChannel</a></div></li><li><div class="item-name"><a class="struct" href="struct.PaiBindFragment.html" title="struct iroh_willow::proto::wgps::PaiBindFragment">PaiBind<wbr>Fragment</a></div><div class="desc docblock-short">Bind data to an IntersectionHandle for performing private area intersection.</div></li><li><div class="item-name"><a class="struct" href="struct.PaiReplyFragment.html" title="struct iroh_willow::proto::wgps::PaiReplyFragment">PaiReply<wbr>Fragment</a></div><div class="desc docblock-short">Finalise private set intersection for a single item.</div></li><li><div class="item-name"><a class="struct" href="struct.PaiReplySubspaceCapability.html" title="struct iroh_willow::proto::wgps::PaiReplySubspaceCapability">PaiReply<wbr>Subspace<wbr>Capability</a></div><div class="desc docblock-short">Send a previously requested SubspaceCapability.</div></li><li><div class="item-name"><a class="struct" href="struct.PaiRequestSubspaceCapability.html" title="struct iroh_willow::proto::wgps::PaiRequestSubspaceCapability">PaiRequest<wbr>Subspace<wbr>Capability</a></div><div class="desc docblock-short">Ask the receiver to send a SubspaceCapability.</div></li><li><div class="item-name"><a class="struct" href="struct.ReconciliationAnnounceEntries.html" title="struct iroh_willow::proto::wgps::ReconciliationAnnounceEntries">Reconciliation<wbr>Announce<wbr>Entries</a></div><div class="desc docblock-short">Prepare transmission of the LengthyEntries a peer has in a 3dRange as part of 3d range-based set reconciliation.</div></li><li><div class="item-name"><a class="struct" href="struct.ReconciliationSendEntry.html" title="struct iroh_willow::proto::wgps::ReconciliationSendEntry">Reconciliation<wbr>Send<wbr>Entry</a></div><div class="desc docblock-short">Transmit a <a href="struct.LengthyEntry.html" title="struct iroh_willow::proto::wgps::LengthyEntry"><code>LengthyEntry</code></a> as part of 3d range-based set reconciliation.</div></li><li><div class="item-name"><a class="struct" href="struct.ReconciliationSendFingerprint.html" title="struct iroh_willow::proto::wgps::ReconciliationSendFingerprint">Reconciliation<wbr>Send<wbr>Fingerprint</a></div><div class="desc docblock-short">Send a Fingerprint as part of 3d range-based set reconciliation.</div></li><li><div class="item-name"><a class="struct" href="struct.ReconciliationSendPayload.html" title="struct iroh_willow::proto::wgps::ReconciliationSendPayload">Reconciliation<wbr>Send<wbr>Payload</a></div><div class="desc docblock-short">Transmit some transformed Payload bytes.</div></li><li><div class="item-name"><a class="struct" href="struct.ReconciliationTerminatePayload.html" title="struct iroh_willow::proto::wgps::ReconciliationTerminatePayload">Reconciliation<wbr>Terminate<wbr>Payload</a></div><div class="desc docblock-short">Indicate that no more bytes will be transmitted for the currently transmitted Payload as part of set reconciliation.</div></li><li><div class="item-name"><a class="struct" href="struct.SetupBindAreaOfInterest.html" title="struct iroh_willow::proto::wgps::SetupBindAreaOfInterest">Setup<wbr>Bind<wbr>Area<wbr>OfInterest</a></div><div class="desc docblock-short">Bind an AreaOfInterest to an AreaOfInterestHandle.</div></li><li><div class="item-name"><a class="struct" href="struct.SetupBindReadCapability.html" title="struct iroh_willow::proto::wgps::SetupBindReadCapability">Setup<wbr>Bind<wbr>Read<wbr>Capability</a></div><div class="desc docblock-short">Bind a ReadCapability to a CapabilityHandle.</div></li><li><div class="item-name"><a class="struct" href="struct.SetupBindStaticToken.html" title="struct iroh_willow::proto::wgps::SetupBindStaticToken">Setup<wbr>Bind<wbr>Static<wbr>Token</a></div><div class="desc docblock-short">Bind a StaticToken to a StaticTokenHandle.</div></li><li><div class="item-name"><a class="struct" href="struct.StaticTokenHandle.html" title="struct iroh_willow::proto::wgps::StaticTokenHandle">Static<wbr>Token<wbr>Handle</a></div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">ยง</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Channel.html" title="enum iroh_willow::proto::wgps::Channel">Channel</a></div></li><li><div class="item-name"><a class="enum" href="enum.DataMessage.html" title="enum iroh_willow::proto::wgps::DataMessage">Data<wbr>Message</a></div></li><li><div class="item-name"><a class="enum" href="enum.HandleType.html" title="enum iroh_willow::proto::wgps::HandleType">Handle<wbr>Type</a></div><div class="desc docblock-short">The different resource handles employed by the WGPS.</div></li><li><div class="item-name"><a class="enum" href="enum.IntersectionMessage.html" title="enum iroh_willow::proto::wgps::IntersectionMessage">Intersection<wbr>Message</a></div></li><li><div class="item-name"><a class="enum" href="enum.LogicalChannel.html" title="enum iroh_willow::proto::wgps::LogicalChannel">Logical<wbr>Channel</a></div><div class="desc docblock-short">The different logical channels employed by the WGPS.</div></li><li><div class="item-name"><a class="enum" href="enum.Message.html" title="enum iroh_willow::proto::wgps::Message">Message</a></div></li><li><div class="item-name"><a class="enum" href="enum.ReconciliationMessage.html" title="enum iroh_willow::proto::wgps::ReconciliationMessage">Reconciliation<wbr>Message</a></div></li><li><div class="item-name"><a class="enum" href="enum.ResourceHandle.html" title="enum iroh_willow::proto::wgps::ResourceHandle">Resource<wbr>Handle</a></div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">ยง</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.CHALLENGE_HASH_LENGTH.html" title="constant iroh_willow::proto::wgps::CHALLENGE_HASH_LENGTH">CHALLENGE_<wbr>HASH_<wbr>LENGTH</a></div></li><li><div class="item-name"><a class="constant" href="constant.CHALLENGE_LENGTH.html" title="constant iroh_willow::proto::wgps::CHALLENGE_LENGTH">CHALLENGE_<wbr>LENGTH</a></div></li><li><div class="item-name"><a class="constant" href="constant.MAX_PAYLOAD_SIZE.html" title="constant iroh_willow::proto::wgps::MAX_PAYLOAD_SIZE">MAX_<wbr>PAYLOAD_<wbr>SIZE</a></div><div class="desc docblock-short">The maximum payload size limits when the other peer may include Payloads directly when transmitting Entries:
when an Entryโs payload_length is strictly greater than the maximum payload size,
its Payload may only be transmitted when explicitly requested.</div></li><li><div class="item-name"><a class="constant" href="constant.MAX_PAYLOAD_SIZE_POWER.html" title="constant iroh_willow::proto::wgps::MAX_PAYLOAD_SIZE_POWER">MAX_<wbr>PAYLOAD_<wbr>SIZE_<wbr>POWER</a></div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">ยง</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.IsHandle.html" title="trait iroh_willow::proto::wgps::IsHandle">IsHandle</a></div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">ยง</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.AccessChallengeBytes.html" title="type iroh_willow::proto::wgps::AccessChallengeBytes">Access<wbr>Challenge<wbr>Bytes</a></div></li><li><div class="item-name"><a class="type" href="type.DynamicToken.html" title="type iroh_willow::proto::wgps::DynamicToken">Dynamic<wbr>Token</a></div></li><li><div class="item-name"><a class="type" href="type.PsiGroupBytes.html" title="type iroh_willow::proto::wgps::PsiGroupBytes">PsiGroup<wbr>Bytes</a></div></li><li><div class="item-name"><a class="type" href="type.ReadCapability.html" title="type iroh_willow::proto::wgps::ReadCapability">Read<wbr>Capability</a></div><div class="desc docblock-short">Whereas write access control is baked into the Willow data model,
read access control resides in the replication layer.
To manage read access via capabilities, all peers must cooperate in sending Entries only to peers
who have presented a valid read capability for the Entry.
We describe the details in a capability-system-agnostic way here.
To use Meadowcap for this approach, simply choose the type of valid McCapabilities with access mode read as the read capabilities.</div></li><li><div class="item-name"><a class="type" href="type.Receiver.html" title="type iroh_willow::proto::wgps::Receiver">Receiver</a></div></li><li><div class="item-name"><a class="type" href="type.StaticToken.html" title="type iroh_willow::proto::wgps::StaticToken">Static<wbr>Token</a></div></li><li><div class="item-name"><a class="type" href="type.SubspaceCapability.html" title="type iroh_willow::proto::wgps::SubspaceCapability">Subspace<wbr>Capability</a></div><div class="desc docblock-short">Whenever a peer is granted a complete read capability of non-empty path,
it should also be granted a corresponding subspace capability.
Each subspace capability must have a single receiver (a public key of some signature scheme),
and a single granted namespace (a NamespaceId).
The receiver can authenticate itself by signing a collaboratively selected nonce.</div></li><li><div class="item-name"><a class="type" href="type.SyncSignature.html" title="type iroh_willow::proto::wgps::SyncSignature">Sync<wbr>Signature</a></div></li></ul></section></div></main></body></html>